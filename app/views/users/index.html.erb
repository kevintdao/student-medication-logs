<div class="container">
  <% if @current_user.role == 'Admin' %>
    <h1>Users in District</h1>

    <div class="input-group">
      <%= form_for :search, { url: users_path, method: 'get' } do |f|  %>
        <div class="input-group">
          <%= f.select :type, options_for_select(%w[Name Role]), {}, {class: 'form-select'} %>
          <%= f.text_field :term, class: "form-control w-25" %>
          <%= f.submit :Search, class: "btn btn-primary"%>
        </div>
      <% end %>
    </div>

    <table class="table table-striped table-bordered table-sm mt-2">
      <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>District ID</th>
        <th>Role</th>
        <th>Profile</th>
      </tr>
      </thead>

      <tbody>
      <% @users.each do |user| %>
        <tr>
          <td><%= user.first_name + ' ' + user.last_name %></td>
          <td><%= user.email %></td>
          <td><%= user.district_id %></td>
          <td><%= user.role %></td>
          <td><%= link_to 'View', user %></td>
        </tr>
      <% end %>
      </tbody>
    </table>
    <%= link_to 'Add new user', new_users_path, {class: 'btn btn-primary mb-2'} %>
  <% else %>
    <h2 class="d-flex justify-content-center text-danger">You don't have access to this page</h2>
  <% end %>
</div>
